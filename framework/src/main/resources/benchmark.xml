<bench-config>

   <master bindAddress="${127.0.0.1:master.address}" port="${2103:master.port}"/>

   <benchmark initSize="2" maxSize="${8:slaves}" increment="1">
      <DestroyWrapper runOnAllSlaves="true"/>
      <StartCluster/>
      <ClusterValidation partialReplication="false"/>
      <Warmup operationCount="100000"/>
      <!--
         This will average to 10000 requests per thread, although a work-stealing pattern is used so some threads may
         do more work than others.
       -->
      <WebSessionBenchmark numberOfRequests="250000" opsCountStatusLog="10000" numOfThreads="25"/>
      <CsvReportGeneration/>
   </benchmark>

   <products>
      <jbosscache3>
         <config name="mvcc/mvcc-repl-sync.xml"/>
      </jbosscache3>
      <infinispan4>
         <config name="repl-sync.xml"/>
         <config name="dist-sync.xml"/>
         <config name="dist-sync-l1.xml"/>
      </infinispan4>
   </products>

   <reports>
      <report name="Replicated">
         <item product="infinispan4" config="repl-sync.xml"/>
         <item product="jbosscache3" config="*"/>
      </report>
      <report name="Distributed">
         <item product="infinispan4" config="dist-*"/>
      </report>
      <report name="All" includeAll="true"/>
   </reports>

</bench-config>
